<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSL Check - PC-Master –•–º–µ–ª—å–Ω–∏—Ü—å–∫–∏–π</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            text-align: center;
        }
        .status {
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: 600;
        }
        .success {
            background: rgba(34, 197, 94, 0.3);
            border: 1px solid rgba(34, 197, 94, 0.5);
        }
        .error {
            background: rgba(239, 68, 68, 0.3);
            border: 1px solid rgba(239, 68, 68, 0.5);
        }
        .warning {
            background: rgba(245, 158, 11, 0.3);
            border: 1px solid rgba(245, 158, 11, 0.5);
        }
        .check-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .check-item:last-child {
            border-bottom: none;
        }
        button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 10px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞</h1>
        <p>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ pcmaster-khmelnytskyi.xyz</p>
        
        <div id="ssl-status" class="status">
            <div id="ssl-icon">üîÑ</div>
            <div id="ssl-text">–ü—Ä–æ–≤–µ—Ä—è–µ–º SSL...</div>
        </div>

        <div id="checks">
            <div class="check-item">
                <span>HTTPS –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:</span>
                <span id="https-check">‚è≥</span>
            </div>
            <div class="check-item">
                <span>SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:</span>
                <span id="ssl-cert-check">‚è≥</span>
            </div>
            <div class="check-item">
                <span>–†–µ–¥–∏—Ä–µ–∫—Ç HTTP ‚Üí HTTPS:</span>
                <span id="redirect-check">‚è≥</span>
            </div>
            <div class="check-item">
                <span>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:</span>
                <span id="headers-check">‚è≥</span>
            </div>
        </div>

        <button onclick="runSSLCheck()">üîÑ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</button>
        <button onclick="window.location.href='/'">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>

        <div id="recommendations" style="margin-top: 30px; text-align: left; display: none;">
            <h3>üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</h3>
            <ul id="rec-list"></ul>
        </div>
    </div>

    <script>
        async function runSSLCheck() {
            const domain = 'pcmaster-khmelnytskyi.xyz';
            const results = {
                https: false,
                ssl: false,
                redirect: false,
                headers: false
            };

            // Reset status
            document.getElementById('ssl-status').className = 'status';
            document.getElementById('ssl-icon').textContent = 'üîÑ';
            document.getElementById('ssl-text').textContent = '–ü—Ä–æ–≤–µ—Ä—è–µ–º SSL...';
            
            // Reset checks
            document.querySelectorAll('[id$="-check"]').forEach(el => el.textContent = '‚è≥');

            try {
                // Check HTTPS availability
                const httpsResponse = await fetch(`https://${domain}`, { 
                    method: 'HEAD', 
                    mode: 'no-cors',
                    signal: AbortSignal.timeout(10000)
                });
                results.https = true;
                document.getElementById('https-check').textContent = '‚úÖ';
            } catch (error) {
                document.getElementById('https-check').textContent = '‚ùå';
                console.error('HTTPS check failed:', error);
            }

            // Check if we're on HTTPS
            if (location.protocol === 'https:') {
                results.ssl = true;
                document.getElementById('ssl-cert-check').textContent = '‚úÖ';
            } else {
                document.getElementById('ssl-cert-check').textContent = '‚ùå';
            }

            // Check HTTP redirect (simulate)
            try {
                const httpUrl = `http://${domain}`;
                // This is a simplified check - in reality we'd need server-side verification
                if (results.https) {
                    results.redirect = true;
                    document.getElementById('redirect-check').textContent = '‚úÖ';
                } else {
                    document.getElementById('redirect-check').textContent = '‚ùå';
                }
            } catch (error) {
                document.getElementById('redirect-check').textContent = '‚ùå';
            }

            // Check security headers (basic check)
            try {
                const response = await fetch(window.location.href, { method: 'HEAD' });
                const hasSecurityHeaders = response.headers.get('strict-transport-security') || 
                                         response.headers.get('x-frame-options');
                if (hasSecurityHeaders) {
                    results.headers = true;
                    document.getElementById('headers-check').textContent = '‚úÖ';
                } else {
                    document.getElementById('headers-check').textContent = '‚ö†Ô∏è';
                }
            } catch (error) {
                document.getElementById('headers-check').textContent = '‚ùå';
            }

            // Update overall status
            const successCount = Object.values(results).filter(Boolean).length;
            const statusDiv = document.getElementById('ssl-status');
            const iconDiv = document.getElementById('ssl-icon');
            const textDiv = document.getElementById('ssl-text');

            if (successCount === 4) {
                statusDiv.className = 'status success';
                iconDiv.textContent = 'üîí';
                textDiv.textContent = 'SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ!';
            } else if (successCount >= 2) {
                statusDiv.className = 'status warning';
                iconDiv.textContent = '‚ö†Ô∏è';
                textDiv.textContent = 'SSL —á–∞—Å—Ç–∏—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω';
            } else {
                statusDiv.className = 'status error';
                iconDiv.textContent = '‚ùå';
                textDiv.textContent = 'SSL —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏';
            }

            // Show recommendations
            showRecommendations(results);
        }

        function showRecommendations(results) {
            const recommendations = [];
            
            if (!results.https) {
                recommendations.push('–í–∫–ª—é—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ –ø–∞–Ω–µ–ª–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞');
                recommendations.push('–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å DNS –∑–∞–ø–∏—Å–µ–π');
            }
            
            if (!results.ssl) {
                recommendations.push('–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ HTTPS –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ');
            }
            
            if (!results.redirect) {
                recommendations.push('–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS');
            }
            
            if (!results.headers) {
                recommendations.push('–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (HSTS, CSP)');
            }

            if (recommendations.length > 0) {
                const recDiv = document.getElementById('recommendations');
                const recList = document.getElementById('rec-list');
                recList.innerHTML = recommendations.map(rec => `<li>${rec}</li>`).join('');
                recDiv.style.display = 'block';
            } else {
                document.getElementById('recommendations').style.display = 'none';
            }
        }

        // Auto-run check on load
        window.addEventListener('load', runSSLCheck);
    </script>
</body>
</html>